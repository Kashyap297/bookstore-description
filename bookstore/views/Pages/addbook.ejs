<%- include('../Partials/Header') %>
    <div class="d-flex align-items-center justify-content-center vh-80">
        <div class="col-4">
            <form action="/addbook" method="post" class="border p-3  rounded bg-white shadow-lg"
                onsubmit="return validateForm(this)">
                <h3 class="text-secondary text-center mb-3">Book Store Manager</h3>
                <div class="d-flex">
                    <div class="col-4">
                        <div class="d-flex justify-content-between">
                            <label for="" class="text-secondary">ID :</label>
                            <p class="text-danger m-0" id="bookidError"></p>
                        </div>
                        <input type="number" name="bookid" class="form-control" placeholder="Enter Book ID">
                    </div>
                </div>
                <div class="col-12 mt-2">
                    <div class="d-flex justify-content-between">
                        <label for="" class="text-secondary">Book Title :</label>
                        <p class="text-danger m-0" id="nameError"></p>
                    </div>
                    <input type="text" name="title" class="form-control" placeholder="Enter Book Title">
                </div>
                <div class="d-flex align-items-center gap-2 mt-2">
                    <div class="col-4">
                        <div class="d-flex">
                            <label for="dropdown" class="text-secondary me-3">Type :</label>
                            <p class="text-danger m-0 ms-4" id="typeError"></p>
                        </div>
                        <select id="dropdown" class="form-control" name="booktype">
                            <option value="--Select Type--" selected>--Select Type--</option>
                            <option value="Novels">Novels</option>
                            <option value="Short Stories">Short Stories</option>
                            <option value="History">History</option>
                            <option value="Science and Nature">Science and Nature</option>
                            <option value="Books on Coding">Books on Coding</option>
                            <option value="Classic Poetry">Classic Poetry</option>
                            <option value="Tech Magazines">Tech Magazines</option>
                            <option value="Food Magazines">Food Magazines</option>
                            <option value="Fashion and Lifestyle Magazines">Fashion and Lifestyle Magazines</option>
                        </select>
                    </div>
                    <div class="col-4">
                        <div class="d-flex justify-content-between">
                            <label for="" class="text-secondary">Stock :</label>
                            <p class="text-danger m-0" id="stockError"></p>
                        </div>
                        <input type="number" name="stock" class="form-control" placeholder="Available Qty">
                    </div>
                    <div class="col-4 pe-3">
                        <div class="d-flex justify-content-between">
                            <label for="" class="text-secondary">Price :</label>
                            <p class="text-danger m-0" id="priceError"></p>
                        </div>
                        <input type="number" name="price" class="form-control" placeholder="Price of Book">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-6">
                        <div class="d-flex justify-content-between">
                            <label for="" class="text-secondary">Book Launched Date:</label>
                            <p class="text-danger m-0" id="dateError"></p>
                        </div>
                        <input type="date" name="publishdate" class="form-control">
                    </div>
                    <div class="col-6">
                        <div class="d-flex justify-content-between">
                            <label for="" class="text-secondary">Author :</label>
                            <p class="text-danger m-0" id="authorError"></p>
                        </div>
                        <input type="text" name="author" class="form-control" placeholder="Book's Author">
                    </div>
                </div>

                <div class="text-center">
                    <button class="btn btn-outline-dark mt-2 text-center">Submit</button>
                </div>
            </form>
        </div>
    </div>
    <%- include('../Partials/Footer') %>
        <script>
            const validateForm = (e) => {
                let isValid = true;
                const bookError = document.getElementById("bookidError");
                const nameError = document.getElementById("nameError");
                const typeError = document.getElementById("typeError");
                const stockError = document.getElementById("stockError");
                const priceError = document.getElementById("priceError");
                const authorError = document.getElementById("authorError");
                const dateError = document.getElementById("dateError");


                if (e.bookid.value === "") {
                    bookError.innerText = "Book ID Required*";
                    isValid = false;
                } else {
                    bookError.innerText = ""
                }

                if (e.title.value === "") {
                    nameError.innerText = "Title Required*";
                    isValid = false;
                } else {
                    nameError.innerText = ""
                }

                if (e.booktype.value === "" || e.booktype.value === "--Select Type--") {
                    typeError.innerText = "Select Type*";
                    isValid = false;
                } else {
                    typeError.innerText = ""
                }

                if (e.stock.value === "") {
                    stockError.innerText = "Stock Required*";
                    isValid = false;
                } else {
                    stockError.innerText = ""
                }

                if (e.price.value === "") {
                    priceError.innerText = "Price Required*";
                    isValid = false;
                } else {
                    priceError.innerText = ""
                }

                if (e.author.value === "") {
                    authorError.innerText = "Author Required*";
                    isValid = false;
                } else {
                    authorError.innerText = ""
                }

                if (e.publishdate.value === "") {
                    dateError.innerText = "Date Required*";
                    isValid = false;
                } else {
                    dateError.innerText = ""
                }
                return isValid
            }
        </script>